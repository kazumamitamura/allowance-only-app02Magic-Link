# PostgRESTスキーマキャッシュのリフレッシュ方法

## エラー内容
`PGRST205: Could not find the table 'public.inquiries' in the schema cache`

このエラーは、テーブルは作成されているが、SupabaseのAPI層（PostgREST）のスキーマキャッシュが更新されていない場合に発生します。

## 解決方法

### 方法1: Supabase Dashboard からリフレッシュ（推奨）

1. **Supabase Dashboard を開く**
2. **Settings → API** に移動
3. **"Reload schema cache"** または **"Refresh schema"** ボタンをクリック
4. 数秒待つ
5. アプリケーションで再度お問い合わせを送信してみる

### 方法2: テーブルに直接アクセスしてキャッシュを更新

以下のSQLを実行すると、PostgRESTがスキーマを再読み込みする可能性があります：

```sql
-- テーブルの存在を確認（これによりキャッシュが更新される可能性があります）
SELECT COUNT(*) FROM inquiries;

-- または、テーブルの構造を確認
SELECT * FROM inquiries LIMIT 1;
```

### 方法3: 少し待つ（自動更新）

通常、テーブルを作成してから数分で自動的にスキーマキャッシュが更新されます。
5-10分待ってから再度試してみてください。

### 方法4: Supabaseプロジェクトを再起動（最終手段）

1. Supabase Dashboard → Settings → General
2. プロジェクトを一時停止してから再開
3. 数分待ってから再度試す

## 確認方法

スキーマキャッシュが更新されたかどうかを確認するには：

1. アプリケーションでお問い合わせフォームを開く
2. ブラウザのコンソール（F12）を開く
3. お問い合わせを送信
4. エラーが出なくなれば成功

## 注意事項

- スキーマキャッシュの更新には数秒から数分かかる場合があります
- 複数のテーブルを同時に作成した場合、すべてのテーブルが一度に更新されるとは限りません
- キャッシュが更新されない場合は、Supabaseのサポートに問い合わせることをお勧めします
